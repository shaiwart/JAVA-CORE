if you don't say:

context.refresh()

you get:

org.springframework.context.annotation.AnnotationConfigApplicationContext@5f4da5c3 has not been refreshed yet